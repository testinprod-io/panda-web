.sidebar {
  background-color: #131A28;
  width: 378x;
  height: 100%; // Assuming full height
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  transition: width 0.3s ease, padding 0.3s ease; // Ensure padding is part of the transition
  overflow-x: hidden; // Prevent horizontal scrollbar for the entire sidebar
  overflow-y: auto; // Make sidebar scrollable

  // --- Custom Scrollbar Styles --- 

  // --- WebKit (Chrome, Safari, Edge) ---
  &::-webkit-scrollbar {
    width: 14px; // Width of the scrollbar
  }

  &::-webkit-scrollbar-track {
    background: transparent; // Make track transparent
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    // Default: hidden/transparent thumb
    background-color: rgba(255, 255, 255, 0); 
    border-radius: 4px; // Rounded corners for the thumb
    border: 2px solid transparent; // Creates padding around thumb if track isn't fully transparent
    background-clip: content-box; // Ensures border doesn't make thumb thicker
    transition: background-color 0.3s ease-in-out; // Fade transition for thumb color
  }

  // On hover of the sidebar, make thumb visible
  &:hover::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.25); // Visible thumb color
  }

  // Optional: A slightly more opaque thumb when directly hovering the thumb itself (after sidebar hover revealed it)
  // &:hover::-webkit-scrollbar-thumb:hover {
  //   background-color: rgba(255, 255, 255, 0.4);
  // }

  // --- Firefox ---
  // Default: hidden/transparent thumb and track
  scrollbar-width: thin; // Options: auto, thin, none
  scrollbar-color: transparent transparent; // thumb color and track color

  // On hover of the sidebar, make thumb visible for Firefox
  &:hover {
    scrollbar-color: rgba(255, 255, 255, 0.25) transparent; // Visible thumb, transparent track
  }
  // Note: CSS transitions on scrollbar-color are not reliably supported in Firefox for smooth fade.
}

.sidebarCollapsed {
  width: 0px !important;   // Target width for collapse animation
  padding: 0 !important;    // Animate padding to 0
  overflow: hidden !important;

  // When sidebar is collapsed, its direct children (header & content area) fade out
  > .sidebarHeaderContainer,
  > .sidebarContent {
    opacity: 0;
    pointer-events: none; // Disable interaction when invisible
  }
}

.sidebarInnerWrapper {
  display: flex;
  flex-direction: column;
  flex-grow: 1; // Allow it to grow within the potentially fixed-height sidebar
  padding: 17px 31px; // Original sidebar padding
  gap: 72px; // Original gap between header and content
  min-height: min-content; // Important for scroll to work correctly with flex children
  box-sizing: border-box;
}

.sidebarHeaderContainer { // New wrapper for the header content (icon row + logo row)
  display: flex;
  flex-direction: column;
  gap: 20px; // Figma: Gap between icon row and logo row
  align-self: stretch;
  flex-shrink: 0; // Prevent header from shrinking
  min-width: 316px; // Prevents content from shrinking: 286px (total) - 2 * 31px (padding)
  opacity: 1;       // Default visible state
}

.sidebarHeaderIconRow { // Was .sidebarHeader
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%; // Take full width
  color: white; // Ensure icons/text in header are white
  box-sizing: border-box; // Ensure padding/border don't add to width
  svg {
    color: #B3B3B3;
  }
  // Style for IconButtons within the header if needed
  :global(.MuiIconButton-root) {
    color: white; // Make all IconButton icons white
    // Figma implies 48x48 clickable area for icons, MUI IconButton usually handles this.
    // If specific sizing is needed:
    // width: 48px;
    // height: 48px;
    // padding: 12px; /* (48-24)/2 */
  }
}

.sidebarHeaderLogoRow {
  display: flex;
  align-items: center;
  padding: 12px; // Figma style
  border-radius: 8px; // Figma style
  gap: 8px; // Figma style
  width: 100%; // Ensure it takes the available width within the header container
  box-sizing: border-box; // Crucial: padding will be inside this width
  // No background specified in Figma snippet for the row itself, assume transparent or inherited
}

.sidebarHeaderLogoImage {
  width: 24px;
  height: 24px;
  border-radius: 4px; // Figma style
  // Ensure your image path is correct and accessible
}

.sidebarHeaderLogoTextContainer { // Container for "Panda" and "AI" text
  display: flex; // Allows Panda and AI to be side-by-side if desired, or use column for stacking like title/subtitle
  // For the image provided, they appear as one line with different weights
  // If they should be stacked, add flex-direction: column;
  // justifyContent: 'center'; // from Figma, might not be needed depending on flex setup
  color: white;
  font-family: 'Montserrat', sans-serif; // Specify fallback
  font-size: 20px; // Figma style
  letter-spacing: 0.80px; // Figma style
  font-weight: 600;
  line-height: 1.2; // Adjust for better visual appearance if needed
}

.logoTextBold {
  font-family: 'Montserrat', sans-serif;
  font-weight: 600; // Figma: Panda
  font-size: 20px;
  letter-spacing: 0.80;
}

.logoTextNormal {
  font-family: 'Montserrat', sans-serif;
  font-weight: 500; // Figma: AI
  font-size: 20px;
  letter-spacing: 0.80;
}

.sidebarContent {
  // Styles for the main content area of the sidebar (e.g., the chat list container)
  flex-grow: 1;
  min-width: 316px; // Prevents content from shrinking: 286px (total) - 2 * 31px (padding)
  opacity: 1;       // Default visible state
  transition: opacity 0.15s ease-out; // Smooth fade for content, faster than sidebar width animation
  display: flex; // Added to ensure ChatList can grow if it needs to
  flex-direction: column; // Added for ChatList
}

.sidebarFooter {
  // Styles for the footer will be added here by refactoring sx props
} 